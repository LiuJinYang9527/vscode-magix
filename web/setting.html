<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./resources/element.css">
  <link rel="stylesheet" href="./resources/style.css">
</head>
<script src="./config/vscode-utils.js"></script>

<body>
  <div id="app">

    <el-input class="mt30 w200" placeholder="请输入您的花名" v-model="nickName" clearable>
    </el-input>

    <el-button plain @click="saveNickName">确认</el-button>

  </div>
</body>
<script src="./resources/vue.min.js"></script>
<script src="./resources/element.min.js"></script>
<script src="./config/command.js"></script>
<script>
  new Vue({
      el: '#app',
      data: function () {
        return { visible: false, nickName: '' }
      },
      mounted: function () {
        if(vscode){
          vscode.postMessage({

          });
        }
        window.addEventListener('message', event => {
          const data = event.data;
          if (data.type === WEB_COMMAND.GET_NIKE_NAME) {
            this.nickName = data.nickName;
          }
        });
      }
    methods: {
        saveNickName() {
          if (this.nickName === '') {
            this.$alert('花名不能为空', '温馨提示', {
              confirmButtonText: '确定'
            });
            return;
          }
          if (vscode) {
            vscode.postMessage({ nickName: this.nickName, type: 'save' });
          }
        }
      }
    });

 
 
</script>

</html>